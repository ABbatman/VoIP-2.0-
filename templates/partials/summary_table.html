<!-- templates/partials/summary_table.html -->

<!-- The summary metrics block (computed but hidden) -->
<div id="summaryMetrics" class="summary-display" style="display:none" aria-hidden="true">
  <!-- Summary metrics will be dynamically inserted here by JavaScript (hidden) -->
  <!-- Keeping this node ensures calculations run without breaking UI logic -->
  <!-- Do not remove without adjusting JS that targets #summaryMetrics -->
  
  <!-- hidden content placeholder -->
</div>

<!-- Charts placeholder (D3 area) -->
<div id="charts-container" class="charts-container">
  <!-- D3 charts will be rendered here -->
  <div id="chart-area-1"></div>
  <!-- Add more chart mounts as needed -->
  
  <!-- Note: No styles added here; rely on existing layout CSS or module CSS if needed -->
</div>

<!-- The main results display block -->
<div class="results-display">

  <!-- Element: A panel for table-specific controls -->
  <div id="table-controls" class="results-display__controls">
    <div class="results-display__table-actions">
      <button id="btnExpandCollapseAll" class="btn">Show All</button>
      <!-- Virtual Scroller Status Indicator -->
      <span id="virtual-scroller-status" class="virtual-scroller-status is-hidden">
        Virtual Scrolling Active
      </span>
    </div>
    <div class="results-display__filter">
      <input type="text" id="table-filter-input" placeholder="Filter table...">
    </div>
  </div>

  <!-- Top scrollbar for table -->
  <div id="top-scrollbar-container" class="top-scrollbar-container">
    <div id="top-scrollbar-content" class="top-scrollbar-content"></div>
  </div>

  <!-- Element: Virtual Scroller Container -->
  <div class="results-display__table-wrapper virtual-scroller-container" id="virtual-scroll-container">
    <!-- Virtual scroll spacer for proper scrollbar -->
    <div id="virtual-scroll-spacer"></div>

    <table id="summaryTable" class="results-display__table">
      <thead id="tableHead">
        <!-- Table headers are rendered by JavaScript -->
      </thead>
      <tbody id="tableBody">
        <!-- Table rows are rendered by JavaScript (virtualized) -->
      </tbody>
      <tfoot>
        <tr>
          <td id="table-footer-info" colspan="24">
            <!-- Footer info is rendered by JS -->
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>